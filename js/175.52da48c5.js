"use strict";(globalThis["webpackChunkexpr_tool"]=globalThis["webpackChunkexpr_tool"]||[]).push([[175],{3175:(e,t,o)=>{o.r(t),o.d(t,{default:()=>y});var n=o(3673);function s(e,t,o,s,a,l){const r=(0,n.up)("router-view"),u=(0,n.up)("q-page-container"),i=(0,n.up)("q-layout");return(0,n.wg)(),(0,n.j4)(i,{view:"lHh Lpr lFf"},{default:(0,n.w5)((()=>[(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[e.logged?((0,n.wg)(),(0,n.j4)(r,{key:0})):(0,n.kq)("",!0)])),_:1})])),_:1})}var a=o(2498),l=o(8339);function r(e,t,o){const s=(0,n.Fl)((()=>e.state.system.logged)),a=()=>{t.push("/login").catch((e=>{console.log("Redirect to manual login failed",e)}))};if(!s.value){const t=(0,n.Fl)((()=>e.state.system.sessionSettings)),s=t.value.token,l=t.value.region;o.query.token?e.dispatch("system/login",{token:o.query.token}).then((e=>{e||a()})).catch((e=>{console.log("Login by router failed",e)})):s?e.dispatch("system/login",{token:s,region:l}).then((e=>{e||a()})).catch((e=>{console.log("Session restore failed",e)})):a()}return{logged:s}}const u=(0,n.aZ)({name:"MainLayout",setup(){const e=(0,a.o)(),t=(0,l.tv)(),o=(0,l.yj)(),n=r(e,t,o);return Object.assign({},n)}});var i=o(4260),c=o(4899),g=o(2652),p=o(7518),d=o.n(p);const h=(0,i.Z)(u,[["render",s]]),y=h;d()(u,"components",{QLayout:c.Z,QPageContainer:g.Z})}}]);